/*
Esplora Music
 
Press SWITCH 1 and slide the slider at the same time
 
Created on 22 november 2012
By Enrico Gueli, enrico.gueli@gmail.com
modified 22 Dec 2012
by Tom Igoe

Edited by Vanessa Campagna & Amor 
*/
 
#include <Esplora.h>
 
// these are the frequencies for the notes from middle C
// to one octave above middle C:
const int note[] = {
262, // C
277, // C#
294, // D
311, // D#
330, // E
349, // F
370, // F#
392, // G
415, // G#
440, // A
466, // A#
494, // B
523  // C next octave
};
 
void setup()
{
 
}

 // loops through to check if a button is being pressed, if so which one.
 // if a button is pressed then it plays a sound based on frequency slider
 // displays different light color based on which button pressed
void loop()
{
// read the button labeled SWITCH_DOWN. If it's low,
// then play a note:
if (Esplora.readButton(SWITCH_DOWN) == LOW) {
int slider = Esplora.readSlider();
 
// use map() to map the slider's range to the
// range of notes you have:
byte thisNote = map(slider, 0, 1023, 0, 13);
// play the note corresponding to the slider's position:
Esplora.tone(note[thisNote]);
Esplora.writeGreen(255);
}
else {
// if the button isn't pressed, turn the note off:
Esplora.noTone();
Esplora.writeGreen(0);
}

if (Esplora.readButton(SWITCH_UP) == LOW) {
int slider = Esplora.readSlider();
 
// use map() to map the slider's range to the
// range of notes you have:
byte thisNote = map(slider, 0, 1023, 0, 13);
// play the note corresponding to the slider's position:
Esplora.tone(note[thisNote]);
Esplora.writeRed(255);
}
else {
// if the button isn't pressed, turn the note off:
Esplora.noTone();
Esplora.writeRed(0);
}

if (Esplora.readButton(SWITCH_RIGHT) == LOW) {
int slider = Esplora.readSlider();
 
// use map() to map the slider's range to the
// range of notes you have:
byte thisNote = map(slider, 0, 1023, 0, 13);
// play the note corresponding to the slider's position:
Esplora.tone(note[thisNote]);
Esplora.writeBlue(255);
}
else {
// if the button isn't pressed, turn the note off:
Esplora.noTone();
Esplora.writeBlue(0);
}

if (Esplora.readButton(SWITCH_LEFT) == LOW) {
int slider = Esplora.readSlider();
 
// use map() to map the slider's range to the
// range of notes you have:
byte thisNote = map(slider, 0, 1023, 0, 13);
// play the note corresponding to the slider's position:
Esplora.tone(note[thisNote]);
Esplora.writeRGB(255,255,255);
}
else {
// if the button isn't pressed, turn the note off:
Esplora.noTone();
Esplora.writeRGB(0,0,0);
}
}
